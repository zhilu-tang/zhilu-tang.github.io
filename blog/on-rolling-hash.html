<!DOCTYPE html><html lang="en"><head><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin /><link rel="stylesheet" data-href="https://fonts.googleapis.com/css2?family=Maven+Pro&amp;family=Share+Tech+Mono&amp;family=Source+Sans+Pro&amp;family=Ubuntu&amp;display=swap" data-optimized-fonts="true"/><meta charSet="utf-8" class="jsx-1085971570"/><meta name="viewport" content="width=device-width, initial-scale=1" class="jsx-1085971570"/><meta name="description" content="Key perceptions about Rolling Hash for Strings, pitfalls, and best practices" class="jsx-1085971570"/><meta name="author" content="Zhilu Tang" class="jsx-1085971570"/><meta name="keywords" content="algorithm,perception,math" class="jsx-1085971570"/><meta property="og:title" content="Perception On Rolling Hash- Zhilu Tang" class="jsx-1085971570"/><meta property="og:description" content="Key perceptions about Rolling Hash for Strings, pitfalls, and best practices" class="jsx-1085971570"/><meta property="og:url" content="https://zhilu-tang.github.io/blog/on-rolling-hash" class="jsx-1085971570"/><meta property="og:image" content="https://zhilu-tang.github.io/images/perception-on-rolling-hash/perception-on-rolling-hash.png" class="jsx-1085971570"/><meta property="og:type" content="article" class="jsx-1085971570"/><meta property="og:article:publisher" content="https://zhilu-tang.github.io/" class="jsx-1085971570"/><meta property="og:site_name" content="Zhilu Tang" class="jsx-1085971570"/><meta name="twitter:card" content="summary_large_image" class="jsx-1085971570"/><meta name="twitter:title" content="Perception On Rolling Hash- Zhilu Tang" class="jsx-1085971570"/><meta name="twitter:description" content="Key perceptions about Rolling Hash for Strings, pitfalls, and best practices" class="jsx-1085971570"/><meta name="twitter:url" content="https://zhilu-tang.github.io/blog/on-rolling-hash" class="jsx-1085971570"/><meta name="twitter:site" content="@santhalakshminarayana" class="jsx-1085971570"/><meta name="twitter:image" content="https://zhilu-tang.github.io/images/perception-on-rolling-hash/perception-on-rolling-hash.png" class="jsx-1085971570"/><meta name="twitter:creator" content="@santhalakshminarayana" class="jsx-1085971570"/><link rel="icon" href="/images/zhilu-tang-logo.png?" class="jsx-1085971570"/><link rel="canonical" href="https://zhilu-tang.github.io/blog/on-rolling-hash" class="jsx-1085971570"/><title class="jsx-1085971570">Perception On Rolling Hash- Zhilu Tang</title><script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9497000770523459" crossorigin="anonymous" class="jsx-1085971570"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css" integrity="sha512-fHwaWebuwA7NSF5Qg/af4UeDx9XqUpYpOGgubo3yWu+b2IQR4UeQwbb42Ti7gVAjNtVoI/I9TEoYeu9omwcC6g==" crossorigin="anonymous" referrerPolicy="no-referrer" class="jsx-1085971570"/><meta name="next-head-count" content="25"/><link rel="preload" href="/_next/static/css/33042267ec80af6a9a8e.css" as="style"/><link rel="stylesheet" href="/_next/static/css/33042267ec80af6a9a8e.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-a40ef1678bae11e696dba45124eadd70.js"></script><script src="/_next/static/chunks/webpack-2b6f4fb4c650415a78b4.js" defer=""></script><script src="/_next/static/chunks/framework.1b3b121feae4c8ce410b.js" defer=""></script><script src="/_next/static/chunks/commons.25e318f27b6b3217658f.js" defer=""></script><script src="/_next/static/chunks/main-b4992dc7ef1a8e50958f.js" defer=""></script><script src="/_next/static/chunks/pages/_app-9d0d3e85157e7bfaf2a4.js" defer=""></script><script src="/_next/static/chunks/d0447323.cb163a9f653d9099b373.js" defer=""></script><script src="/_next/static/chunks/773f402080c38a523cb0b4f52dac49b5097e45fc.67318248e17349c71ca2.js" defer=""></script><script src="/_next/static/chunks/6188d020c9511bd1e7ae4c1c2034aa4e99a1704e.0ebead087a84fd758692.js" defer=""></script><script src="/_next/static/chunks/pages/blog/%5Bid%5D-722ed55342484356ced7.js" defer=""></script><script src="/_next/static/S34ylEdEk2cM4iijPJteX/_buildManifest.js" defer=""></script><script src="/_next/static/S34ylEdEk2cM4iijPJteX/_ssgManifest.js" defer=""></script><style id="__jsx-3242260268">.tags.jsx-3242260268{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding:1vw 5vw 1vw 5vw;background-color:#fffecb;border-bottom:5px solid #071013;}.tags.jsx-3242260268 a.jsx-3242260268{font-family:"Share Tech Mono",monospace;color:#1d2b35;margin:0 1em 0 1em;-webkit-text-decoration:none;text-decoration:none;border-bottom:1px dashed #fb232e;}.tags.jsx-3242260268 a.jsx-3242260268:hover{background:#20a4f3;color:#fffecb;border-bottom:1px dashed #fffecb;}.tags.jsx-3242260268 a.jsx-3242260268:active{background:#fb232e;}</style><style id="__jsx-90057834">.header-container.jsx-90057834{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:1;-ms-flex:1;flex:1;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;padding:10px 5vw 10px 5vw;background:#1d2b35;}.header-left.jsx-90057834{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:1;-ms-flex:1;flex:1;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.header-left.jsx-90057834 a.jsx-90057834{font-family:"Source Sans Pro",sans-serif;-webkit-text-decoration:none;text-decoration:none;color:#ffaa33;}img.jsx-90057834{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:1;-ms-flex:1;flex:1;width:calc(1.2rem + 1vw);max-width:calc(1.2rem + 1vw);height:auto;margin:0 5px 0 5px;}img.jsx-90057834:hover{cursor:pointer;}.header-left.jsx-90057834 a.jsx-90057834:hover{color:#20a4f3;}.header-left.jsx-90057834 a.jsx-90057834:active{color:#fb232e;}.header-right.jsx-90057834{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:3;-ms-flex:3;flex:3;-webkit-flex-direction:row-reverse;-ms-flex-direction:row-reverse;flex-direction:row-reverse;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.header-right.jsx-90057834 a.jsx-90057834{padding:0 1vw 0 1vw;font-family:"Source Sans Pro",sans-serif;-webkit-text-decoration:none;text-decoration:none;color:#ffaa33;}.header-right.jsx-90057834 a.jsx-90057834:hover{color:#20a4f3;}.header-right.jsx-90057834 a.jsx-90057834:active{color:#fb232e;}@media screen and (max-width:920px){.header-container.jsx-90057834{padding:10px 2vw 10px 2vw;}#name.jsx-90057834{display:none;}img.jsx-90057834{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}@media screen and (max-width:480px){.header-container.jsx-90057834{padding:10px 2vw 10px 2vw;overflow-x:scroll;}}@media screen and (max-width:300px){img.jsx-90057834{display:none;}}</style><style id="__jsx-2944168904">.img-text.jsx-2944168904{display:block;text-align:center;font-family:"Source Sans Pro",sans-serif;font-size:calc(0.8rem + 0.1vw);color:#1d2b35;overflow-wrap:"break-word";}a.jsx-2944168904{margin:0;-webkit-text-decoration:none;text-decoration:none;color:#1d2b35;border-bottom:1px solid;}</style><style id="__jsx-1110062031">.file-name-container.jsx-1110062031{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:100%;max-width:100%;background-color:#1d2b35d9;padding:calc(0.5rem + 0.2vw);border-top-left-radius:5px;border-top-right-radius:5px;margin-top:1vh;white-space:pre-wrap;word-wrap:break-word;overflow-wrap:break-word;}.file-name.jsx-1110062031{font-family:"Share Tech Mono",monospace;font-size:calc(0.9rem + 0.1vw);color:#fffecbf2;}</style><style id="__jsx-1393389675">.footer-container.jsx-1393389675{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;background:#1d2b35e6;padding:1vw 1vw 1vw 1vw;}.footer-container-links.jsx-1393389675{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}.footer-links.jsx-1393389675{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.link-item.jsx-1393389675{margin:0 1vw 0 1vw;}.link.jsx-1393389675{-webkit-text-decoration:none;text-decoration:none;cursor:pointer: background-color:yellow;}.link.jsx-1393389675:hover{color:black;}.copy-right-container.jsx-1393389675{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-top:10px;}.copy-right-text.jsx-1393389675{font-family:'Maven Pro',sans-serif;font-size:calc(0.75rem + 0.1vw);color:#fffecb;}</style><style id="__jsx-1085971570">.blog-content.jsx-1085971570{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:100%;-ms-flex:100%;flex:100%;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;margin:1vw 25vw 1vw 25vw;width:50vw;max-width:50vw;min-height:90vh;}@media screen and (max-width:980px){.blog-content.jsx-1085971570{margin:1vw 15vw 1vw 15vw;width:70vw;max-width:70vw;}}@media screen and (max-width:760px){.blog-content.jsx-1085971570{margin:1vw 5vw 1vw 5vw;width:90vw;max-width:90vw;}}</style><style data-href="https://fonts.googleapis.com/css2?family=Maven+Pro&family=Share+Tech+Mono&family=Source+Sans+Pro&family=Ubuntu&display=swap">@font-face{font-family:'Maven Pro';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/mavenpro/v39/7Auup_AqnyWWAxW2Wk3swUz56MS91Eww8SX25nM.woff) format('woff')}@font-face{font-family:'Share Tech Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/sharetechmono/v15/J7aHnp1uDWRBEqV98dVQztYldFc7pw.woff) format('woff')}@font-face{font-family:'Source Sans Pro';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/sourcesanspro/v22/6xK3dSBYKcSV-LCoeQqfX1RYOo3aPA.woff) format('woff')}@font-face{font-family:'Ubuntu';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/ubuntu/v20/4iCs6KVjbNBYlgo6ew.woff) format('woff')}@font-face{font-family:'Maven Pro';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/mavenpro/v39/7Auup_AqnyWWAxW2Wk3swUz56MS91Eww8SX21nijpBh8CvRBOB1s.woff) format('woff');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Maven Pro';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/mavenpro/v39/7Auup_AqnyWWAxW2Wk3swUz56MS91Eww8SX21nmjpBh8CvRBOB1s.woff) format('woff');unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Maven Pro';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/mavenpro/v39/7Auup_AqnyWWAxW2Wk3swUz56MS91Eww8SX21nejpBh8CvRBOA.woff) format('woff');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Share Tech Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/sharetechmono/v15/J7aHnp1uDWRBEqV98dVQztYldFcLowEFA87Heg.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Source Sans Pro';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/sourcesanspro/v22/6xK3dSBYKcSV-LCoeQqfX1RYOo3qNa7lujVj9_mf.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Source Sans Pro';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/sourcesanspro/v22/6xK3dSBYKcSV-LCoeQqfX1RYOo3qPK7lujVj9_mf.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Source Sans Pro';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/sourcesanspro/v22/6xK3dSBYKcSV-LCoeQqfX1RYOo3qNK7lujVj9_mf.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Source Sans Pro';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/sourcesanspro/v22/6xK3dSBYKcSV-LCoeQqfX1RYOo3qO67lujVj9_mf.woff2) format('woff2');unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:'Source Sans Pro';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/sourcesanspro/v22/6xK3dSBYKcSV-LCoeQqfX1RYOo3qN67lujVj9_mf.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Source Sans Pro';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/sourcesanspro/v22/6xK3dSBYKcSV-LCoeQqfX1RYOo3qNq7lujVj9_mf.woff2) format('woff2');unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Source Sans Pro';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/sourcesanspro/v22/6xK3dSBYKcSV-LCoeQqfX1RYOo3qOK7lujVj9w.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Ubuntu';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/ubuntu/v20/4iCs6KVjbNBYlgoKcg72nU6AF7xm.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Ubuntu';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/ubuntu/v20/4iCs6KVjbNBYlgoKew72nU6AF7xm.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Ubuntu';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/ubuntu/v20/4iCs6KVjbNBYlgoKcw72nU6AF7xm.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Ubuntu';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/ubuntu/v20/4iCs6KVjbNBYlgoKfA72nU6AF7xm.woff2) format('woff2');unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:'Ubuntu';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/ubuntu/v20/4iCs6KVjbNBYlgoKcQ72nU6AF7xm.woff2) format('woff2');unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Ubuntu';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/ubuntu/v20/4iCs6KVjbNBYlgoKfw72nU6AFw.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style></head><body><div id="__next"><div style="min-height:100vh" class="jsx-1085971570"><div class="jsx-90057834 header"><div class="jsx-90057834 header-container"><div class="jsx-90057834 header-left"><img src="/images/zhilu-tang-logo.png" alt="Logo" class="jsx-90057834"/><a id="name" class="jsx-90057834" href="/"><b class="jsx-90057834">Zhilu Tang</b></a></div><div class="jsx-90057834 header-right"><a class="jsx-90057834" href="/about">About</a><a href="#" class="jsx-90057834">Tags</a><a class="jsx-90057834" href="/">Home</a></div></div><div style="display:none" class="jsx-90057834"><div class="jsx-3242260268 tags"><a class="jsx-3242260268" href="/tags/algorithm">#algorithm</a><a class="jsx-3242260268" href="/tags/thought-process">#thought-process</a><a class="jsx-3242260268" href="/tags/model">#model</a><a class="jsx-3242260268" href="/tags/simulation">#simulation</a><a class="jsx-3242260268" href="/tags/template">#template</a></div></div></div><article class="jsx-1085971570 blog-content"><p style="font-family:&#x27;Source Sans Pro&#x27;, sans-serif;font-size:calc(1rem + 0.1vw);color:#071013f2;margin:0vh 0 1vh 0;overflow-wrap:break-word"><picture class="jsx-2944168904"><img src="/images/perception-on-rolling-hash/perception-on-rolling-hash.png" alt="Perception On Rolling Hash" style="width:100%;max-width:100%;height:auto;margin-left:0%" class="jsx-2944168904"/><span class="jsx-2944168904 img-text"></span></picture></p><h6 style="font-family:&#x27;Maven Pro&#x27;, sans-serif;font-size:calc(1rem + 0.1vw);color:#fb232e;margin:1vh 0 1vh 0;overflow-wrap:break-word">Published on: <strong style="font-family:&#x27;Source Sans Pro&#x27;, sans-serif;font-size:calc(1rem + 0.1vw);font-style:normal;font-weight:bold;color:#1d2b35f2;margin:0vh 0 1vh 0;overflow-wrap:break-word">Jul 24, 2025</strong></h6><h2 style="font-family:&#x27;Maven Pro&#x27;, sans-serif;font-size:calc(1rem + 1vw);color:#1d2b35;margin:1vh 0 1vh 0;overflow-wrap:break-word" id="">🔑 Key Insights about Rolling Hash for Strings</h2><p style="font-family:&#x27;Source Sans Pro&#x27;, sans-serif;font-size:calc(1rem + 0.1vw);color:#071013f2;margin:0vh 0 1vh 0;overflow-wrap:break-word">Rolling hash is a powerful technique for string processing that allows efficient computation and comparison of substring hashes. Here are the essential insights:</p><h3 style="font-family:&#x27;Maven Pro&#x27;, sans-serif;font-size:calc(1rem + 0.5vw);color:#1d2b35;margin:1vh 0 1vh 0;overflow-wrap:break-word" id="">1. <strong style="font-family:&#x27;Source Sans Pro&#x27;, sans-serif;font-size:calc(1rem + 0.1vw);font-style:normal;font-weight:bold;color:#1d2b35f2;margin:0vh 0 1vh 0;overflow-wrap:break-word">Core Principle</strong></h3><ul style="font-family:&#x27;Source Sans Pro&#x27;, sans-serif;font-size:calc(1rem + 0.1vw);color:#071013e6;margin:1vh 0 1vh calc(2vw);overflow-wrap:break-word"><li>Compute hash values for substrings using polynomial hashing</li><li>Formula: <code>hash(s[0...n-1]) = s[0]*p^(n-1) + s[1]*p^(n-2) + ... + s[n-1]*p^0</code></li><li>Enable O(1) computation of any substring hash from precomputed prefix hashes</li></ul><h3 style="font-family:&#x27;Maven Pro&#x27;, sans-serif;font-size:calc(1rem + 0.5vw);color:#1d2b35;margin:1vh 0 1vh 0;overflow-wrap:break-word" id="">2. <strong style="font-family:&#x27;Source Sans Pro&#x27;, sans-serif;font-size:calc(1rem + 0.1vw);font-style:normal;font-weight:bold;color:#1d2b35f2;margin:0vh 0 1vh 0;overflow-wrap:break-word">Rolling Property</strong></h3><ul style="font-family:&#x27;Source Sans Pro&#x27;, sans-serif;font-size:calc(1rem + 0.1vw);color:#071013e6;margin:1vh 0 1vh calc(2vw);overflow-wrap:break-word"><li>Given hash of substring <code>s[i...j]</code>, can compute hash of <code>s[i+1...j+1]</code> in O(1)</li><li>This property makes it ideal for sliding window algorithms</li></ul><h3 style="font-family:&#x27;Maven Pro&#x27;, sans-serif;font-size:calc(1rem + 0.5vw);color:#1d2b35;margin:1vh 0 1vh 0;overflow-wrap:break-word" id="">3. <strong style="font-family:&#x27;Source Sans Pro&#x27;, sans-serif;font-size:calc(1rem + 0.1vw);font-style:normal;font-weight:bold;color:#1d2b35f2;margin:0vh 0 1vh 0;overflow-wrap:break-word">Preprocessing Advantage</strong></h3><ul style="font-family:&#x27;Source Sans Pro&#x27;, sans-serif;font-size:calc(1rem + 0.1vw);color:#071013e6;margin:1vh 0 1vh calc(2vw);overflow-wrap:break-word"><li>Compute all prefix hashes in O(n) time</li><li>Any substring hash can be computed in O(1) time afterward</li></ul><h2 style="font-family:&#x27;Maven Pro&#x27;, sans-serif;font-size:calc(1rem + 1vw);color:#1d2b35;margin:1vh 0 1vh 0;overflow-wrap:break-word" id="">⚠️ Key Problems and Collision Issues</h2><h3 style="font-family:&#x27;Maven Pro&#x27;, sans-serif;font-size:calc(1rem + 0.5vw);color:#1d2b35;margin:1vh 0 1vh 0;overflow-wrap:break-word" id="">1. <strong style="font-family:&#x27;Source Sans Pro&#x27;, sans-serif;font-size:calc(1rem + 0.1vw);font-style:normal;font-weight:bold;color:#1d2b35f2;margin:0vh 0 1vh 0;overflow-wrap:break-word">Hash Collisions</strong></h3><pre><pre class="language-java" style="color:#d4d4d4;font-size:calc(0.9rem + 0.1vw);text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.2;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#1e1e1e;background-color:#071013f2;padding-bottom:1vh;margin-top:1vh;margin-bottom:1vh;border-radius:5px"><code class="language-java" style="color:#d4d4d4;font-size:calc(0.8rem + 0.1vw);text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.2;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">1</span><span class="token" style="color:#6a9955">// Example of collision (simplified)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">2</span><span></span><span class="token" style="color:#6a9955">// Two different strings might have same hash value</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">3</span><span></span><span class="token" style="color:#4ec9b0">String</span><span> s1 </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#ce9178">&quot;abc&quot;</span><span class="token" style="color:#d4d4d4">,</span><span> s2 </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#ce9178">&quot;def&quot;</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">4</span><span></span><span class="token" style="color:#6a9955">// With certain BASE/MOD, hash(s1) might equal hash(s2)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">5</span></code></pre></pre><h3 style="font-family:&#x27;Maven Pro&#x27;, sans-serif;font-size:calc(1rem + 0.5vw);color:#1d2b35;margin:1vh 0 1vh 0;overflow-wrap:break-word" id="">2. <strong style="font-family:&#x27;Source Sans Pro&#x27;, sans-serif;font-size:calc(1rem + 0.1vw);font-style:normal;font-weight:bold;color:#1d2b35f2;margin:0vh 0 1vh 0;overflow-wrap:break-word">Modulo Arithmetic Limitations</strong></h3><ul style="font-family:&#x27;Source Sans Pro&#x27;, sans-serif;font-size:calc(1rem + 0.1vw);color:#071013e6;margin:1vh 0 1vh calc(2vw);overflow-wrap:break-word"><li>Using finite MOD space means collisions are inevitable</li><li>Birthday paradox: collisions occur more frequently than expected</li></ul><h3 style="font-family:&#x27;Maven Pro&#x27;, sans-serif;font-size:calc(1rem + 0.5vw);color:#1d2b35;margin:1vh 0 1vh 0;overflow-wrap:break-word" id="">3. <strong style="font-family:&#x27;Source Sans Pro&#x27;, sans-serif;font-size:calc(1rem + 0.1vw);font-style:normal;font-weight:bold;color:#1d2b35f2;margin:0vh 0 1vh 0;overflow-wrap:break-word">Poor Parameter Choices</strong></h3><ul style="font-family:&#x27;Source Sans Pro&#x27;, sans-serif;font-size:calc(1rem + 0.1vw);color:#071013e6;margin:1vh 0 1vh calc(2vw);overflow-wrap:break-word"><li>Small BASE or MOD values increase collision probability</li><li>Powers of 2 as BASE can lead to poor distribution</li></ul><h2 style="font-family:&#x27;Maven Pro&#x27;, sans-serif;font-size:calc(1rem + 1vw);color:#1d2b35;margin:1vh 0 1vh 0;overflow-wrap:break-word" id="">🛡️ Mitigation Strategies</h2><h3 style="font-family:&#x27;Maven Pro&#x27;, sans-serif;font-size:calc(1rem + 0.5vw);color:#1d2b35;margin:1vh 0 1vh 0;overflow-wrap:break-word" id="">1. <strong style="font-family:&#x27;Source Sans Pro&#x27;, sans-serif;font-size:calc(1rem + 0.1vw);font-style:normal;font-weight:bold;color:#1d2b35f2;margin:0vh 0 1vh 0;overflow-wrap:break-word">Double Hashing</strong></h3><pre><pre class="language-java" style="color:#d4d4d4;font-size:calc(0.9rem + 0.1vw);text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.2;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#1e1e1e;background-color:#071013f2;padding-bottom:1vh;margin-top:1vh;margin-bottom:1vh;border-radius:5px"><code class="language-java" style="color:#d4d4d4;font-size:calc(0.8rem + 0.1vw);text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.2;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">1</span><span class="token" style="color:#569CD6">class</span><span> </span><span class="token" style="color:#4ec9b0">DoubleHash</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">2</span><span>    </span><span class="token" style="color:#569CD6">private</span><span> </span><span class="token" style="color:#569CD6">static</span><span> </span><span class="token" style="color:#569CD6">final</span><span> </span><span class="token" style="color:#569CD6">long</span><span> BASE1 </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#b5cea8">31</span><span class="token" style="color:#d4d4d4">,</span><span> BASE2 </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#b5cea8">37</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">3</span><span>    </span><span class="token" style="color:#569CD6">private</span><span> </span><span class="token" style="color:#569CD6">static</span><span> </span><span class="token" style="color:#569CD6">final</span><span> </span><span class="token" style="color:#569CD6">long</span><span> MOD1 </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#b5cea8">1000000007</span><span class="token" style="color:#d4d4d4">,</span><span> MOD2 </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#b5cea8">1000000009</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">4</span>    
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">5</span><span>    </span><span class="token" style="color:#6a9955">// Use pair of hashes to reduce collision probability</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">6</span><span>    </span><span class="token" style="color:#569CD6">long</span><span> hash1</span><span class="token" style="color:#d4d4d4">,</span><span> hash2</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">7</span>    
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">8</span><span>    </span><span class="token" style="color:#6a9955">// Compare both hash values for equality</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">9</span><span>    </span><span class="token" style="color:#569CD6">public</span><span> </span><span class="token" style="color:#569CD6">boolean</span><span> </span><span class="token" style="color:#dcdcaa">equals</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#4ec9b0">Object</span><span> other</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">10</span><span>        </span><span class="token" style="color:#4ec9b0">DoubleHash</span><span> o </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#4ec9b0">DoubleHash</span><span class="token" style="color:#d4d4d4">)</span><span> other</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">11</span><span>        </span><span class="token" style="color:#569CD6">return</span><span> hash1 </span><span class="token" style="color:#d4d4d4">==</span><span> o</span><span class="token" style="color:#d4d4d4">.</span><span>hash1 </span><span class="token" style="color:#d4d4d4">&amp;&amp;</span><span> hash2 </span><span class="token" style="color:#d4d4d4">==</span><span> o</span><span class="token" style="color:#d4d4d4">.</span><span>hash2</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">12</span><span>    </span><span class="token" style="color:#d4d4d4">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">13</span><span></span><span class="token" style="color:#d4d4d4">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">14</span></code></pre></pre><h3 style="font-family:&#x27;Maven Pro&#x27;, sans-serif;font-size:calc(1rem + 0.5vw);color:#1d2b35;margin:1vh 0 1vh 0;overflow-wrap:break-word" id="">2. <strong style="font-family:&#x27;Source Sans Pro&#x27;, sans-serif;font-size:calc(1rem + 0.1vw);font-style:normal;font-weight:bold;color:#1d2b35f2;margin:0vh 0 1vh 0;overflow-wrap:break-word">Large Prime Parameters</strong></h3><ul style="font-family:&#x27;Source Sans Pro&#x27;, sans-serif;font-size:calc(1rem + 0.1vw);color:#071013e6;margin:1vh 0 1vh calc(2vw);overflow-wrap:break-word"><li>Use large primes for MOD (e.g., 10^9+7, 10^9+9)</li><li>Choose BASE that&#x27;s relatively prime to MOD</li><li>Avoid powers of 2 or small primes for BASE</li></ul><h3 style="font-family:&#x27;Maven Pro&#x27;, sans-serif;font-size:calc(1rem + 0.5vw);color:#1d2b35;margin:1vh 0 1vh 0;overflow-wrap:break-word" id="">3. <strong style="font-family:&#x27;Source Sans Pro&#x27;, sans-serif;font-size:calc(1rem + 0.1vw);font-style:normal;font-weight:bold;color:#1d2b35f2;margin:0vh 0 1vh 0;overflow-wrap:break-word">Verification for Critical Applications</strong></h3><pre><pre class="language-java" style="color:#d4d4d4;font-size:calc(0.9rem + 0.1vw);text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.2;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#1e1e1e;background-color:#071013f2;padding-bottom:1vh;margin-top:1vh;margin-bottom:1vh;border-radius:5px"><code class="language-java" style="color:#d4d4d4;font-size:calc(0.8rem + 0.1vw);text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.2;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">1</span><span class="token" style="color:#6a9955">// When hash matches, verify actual string equality if correctness is critical</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">2</span><span></span><span class="token" style="color:#569CD6">if</span><span> </span><span class="token" style="color:#d4d4d4">(</span><span>hash1 </span><span class="token" style="color:#d4d4d4">==</span><span> hash2</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">3</span><span>    </span><span class="token" style="color:#6a9955">// Only do expensive string comparison when hashes match</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">4</span><span>    </span><span class="token" style="color:#569CD6">if</span><span> </span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#dcdcaa">actualStringComparison</span><span class="token" style="color:#d4d4d4">(</span><span>str1</span><span class="token" style="color:#d4d4d4">,</span><span> str2</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">5</span><span>        </span><span class="token" style="color:#6a9955">// Truly equal</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">6</span><span>    </span><span class="token" style="color:#d4d4d4">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">7</span><span></span><span class="token" style="color:#d4d4d4">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">8</span></code></pre></pre><h3 style="font-family:&#x27;Maven Pro&#x27;, sans-serif;font-size:calc(1rem + 0.5vw);color:#1d2b35;margin:1vh 0 1vh 0;overflow-wrap:break-word" id="">4. <strong style="font-family:&#x27;Source Sans Pro&#x27;, sans-serif;font-size:calc(1rem + 0.1vw);font-style:normal;font-weight:bold;color:#1d2b35f2;margin:0vh 0 1vh 0;overflow-wrap:break-word">Good Parameter Selection</strong></h3><ul style="font-family:&#x27;Source Sans Pro&#x27;, sans-serif;font-size:calc(1rem + 0.1vw);color:#071013e6;margin:1vh 0 1vh calc(2vw);overflow-wrap:break-word"><li>BASE: Use prime numbers (commonly 31, 37, 41, 43)</li><li>MOD: Use large primes (10^9+7, 10^9+9, or even larger)</li><li>Avoid BASE=2, 10 which have poor distribution properties</li></ul><h2 style="font-family:&#x27;Maven Pro&#x27;, sans-serif;font-size:calc(1rem + 1vw);color:#1d2b35;margin:1vh 0 1vh 0;overflow-wrap:break-word" id="">🎯 When to Use Rolling Hash</h2><h3 style="font-family:&#x27;Maven Pro&#x27;, sans-serif;font-size:calc(1rem + 0.5vw);color:#1d2b35;margin:1vh 0 1vh 0;overflow-wrap:break-word" id="">✅ Good Use Cases:</h3><ul style="font-family:&#x27;Source Sans Pro&#x27;, sans-serif;font-size:calc(1rem + 0.1vw);color:#071013e6;margin:1vh 0 1vh calc(2vw);overflow-wrap:break-word"><li>String matching algorithms (Rabin-Karp)</li><li>Finding duplicate substrings</li><li>Palindrome detection</li><li>Counting distinct substrings</li><li>When approximate equality is acceptable</li></ul><h3 style="font-family:&#x27;Maven Pro&#x27;, sans-serif;font-size:calc(1rem + 0.5vw);color:#1d2b35;margin:1vh 0 1vh 0;overflow-wrap:break-word" id="">❌ Avoid When:</h3><ul style="font-family:&#x27;Source Sans Pro&#x27;, sans-serif;font-size:calc(1rem + 0.1vw);color:#071013e6;margin:1vh 0 1vh calc(2vw);overflow-wrap:break-word"><li>Cryptographic security is required</li><li>Exact string matching is critical without verification</li><li>Very small strings where overhead doesn&#x27;t pay off</li></ul><h2 style="font-family:&#x27;Maven Pro&#x27;, sans-serif;font-size:calc(1rem + 1vw);color:#1d2b35;margin:1vh 0 1vh 0;overflow-wrap:break-word" id="">💡 Best Practices</h2><h3 style="font-family:&#x27;Maven Pro&#x27;, sans-serif;font-size:calc(1rem + 0.5vw);color:#1d2b35;margin:1vh 0 1vh 0;overflow-wrap:break-word" id="">1. <strong style="font-family:&#x27;Source Sans Pro&#x27;, sans-serif;font-size:calc(1rem + 0.1vw);font-style:normal;font-weight:bold;color:#1d2b35f2;margin:0vh 0 1vh 0;overflow-wrap:break-word">Always Consider Collision Probability</strong></h3><ul style="font-family:&#x27;Source Sans Pro&#x27;, sans-serif;font-size:calc(1rem + 0.1vw);color:#071013e6;margin:1vh 0 1vh calc(2vw);overflow-wrap:break-word"><li>For n strings, collision probability is roughly n²/(2*MOD)</li><li>Choose MOD appropriately for your data size</li></ul><h3 style="font-family:&#x27;Maven Pro&#x27;, sans-serif;font-size:calc(1rem + 0.5vw);color:#1d2b35;margin:1vh 0 1vh 0;overflow-wrap:break-word" id="">2. <strong style="font-family:&#x27;Source Sans Pro&#x27;, sans-serif;font-size:calc(1rem + 0.1vw);font-style:normal;font-weight:bold;color:#1d2b35f2;margin:0vh 0 1vh 0;overflow-wrap:break-word">Precompute Powers</strong></h3><pre><pre class="language-java" style="color:#d4d4d4;font-size:calc(0.9rem + 0.1vw);text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.2;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#1e1e1e;background-color:#071013f2;padding-bottom:1vh;margin-top:1vh;margin-bottom:1vh;border-radius:5px"><code class="language-java" style="color:#d4d4d4;font-size:calc(0.8rem + 0.1vw);text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.2;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">1</span><span class="token" style="color:#6a9955">// Precompute powers of BASE to avoid repeated calculations</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">2</span><span></span><span class="token" style="color:#569CD6">long</span><span class="token" style="color:#d4d4d4">[</span><span class="token" style="color:#d4d4d4">]</span><span> powers </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#569CD6">new</span><span> </span><span class="token" style="color:#569CD6">long</span><span class="token" style="color:#d4d4d4">[</span><span>n</span><span class="token" style="color:#d4d4d4">]</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">3</span><span>powers</span><span class="token" style="color:#d4d4d4">[</span><span class="token" style="color:#b5cea8">0</span><span class="token" style="color:#d4d4d4">]</span><span> </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#b5cea8">1</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">4</span><span></span><span class="token" style="color:#569CD6">for</span><span> </span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#569CD6">int</span><span> i </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#b5cea8">1</span><span class="token" style="color:#d4d4d4">;</span><span> i </span><span class="token" style="color:#d4d4d4">&lt;</span><span> n</span><span class="token" style="color:#d4d4d4">;</span><span> i</span><span class="token" style="color:#d4d4d4">++</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">5</span><span>    powers</span><span class="token" style="color:#d4d4d4">[</span><span>i</span><span class="token" style="color:#d4d4d4">]</span><span> </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#d4d4d4">(</span><span>powers</span><span class="token" style="color:#d4d4d4">[</span><span>i</span><span class="token" style="color:#d4d4d4">-</span><span class="token" style="color:#b5cea8">1</span><span class="token" style="color:#d4d4d4">]</span><span> </span><span class="token" style="color:#d4d4d4">*</span><span> BASE</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#d4d4d4">%</span><span> MOD</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">6</span><span></span><span class="token" style="color:#d4d4d4">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">7</span></code></pre></pre><h3 style="font-family:&#x27;Maven Pro&#x27;, sans-serif;font-size:calc(1rem + 0.5vw);color:#1d2b35;margin:1vh 0 1vh 0;overflow-wrap:break-word" id="">3. <strong style="font-family:&#x27;Source Sans Pro&#x27;, sans-serif;font-size:calc(1rem + 0.1vw);font-style:normal;font-weight:bold;color:#1d2b35f2;margin:0vh 0 1vh 0;overflow-wrap:break-word">Handle Negative Results</strong></h3><pre><pre class="language-java" style="color:#d4d4d4;font-size:calc(0.9rem + 0.1vw);text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.2;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#1e1e1e;background-color:#071013f2;padding-bottom:1vh;margin-top:1vh;margin-bottom:1vh;border-radius:5px"><code class="language-java" style="color:#d4d4d4;font-size:calc(0.8rem + 0.1vw);text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.2;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">1</span><span class="token" style="color:#6a9955">// Always ensure hash values are positive</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">2</span><span></span><span class="token" style="color:#569CD6">long</span><span> hash </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#d4d4d4">(</span><span>computed_hash </span><span class="token" style="color:#d4d4d4">%</span><span> MOD </span><span class="token" style="color:#d4d4d4">+</span><span> MOD</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#d4d4d4">%</span><span> MOD</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">3</span></code></pre></pre><h3 style="font-family:&#x27;Maven Pro&#x27;, sans-serif;font-size:calc(1rem + 0.5vw);color:#1d2b35;margin:1vh 0 1vh 0;overflow-wrap:break-word" id="">4. <strong style="font-family:&#x27;Source Sans Pro&#x27;, sans-serif;font-size:calc(1rem + 0.1vw);font-style:normal;font-weight:bold;color:#1d2b35f2;margin:0vh 0 1vh 0;overflow-wrap:break-word">Memory vs Time Tradeoff</strong></h3><ul style="font-family:&#x27;Source Sans Pro&#x27;, sans-serif;font-size:calc(1rem + 0.1vw);color:#071013e6;margin:1vh 0 1vh calc(2vw);overflow-wrap:break-word"><li>Decide whether to precompute all substring hashes or compute on demand</li><li>Consider the specific problem constraints</li></ul><p style="font-family:&#x27;Source Sans Pro&#x27;, sans-serif;font-size:calc(1rem + 0.1vw);color:#071013f2;margin:0vh 0 1vh 0;overflow-wrap:break-word">Rolling hash is a powerful tool when used correctly, but requires careful consideration of parameters and collision handling to ensure reliable results.</p></article><div class="jsx-1393389675 footer-container"><div class="jsx-1393389675 footer-container-links"><div class="jsx-1393389675 footer-links"><div class="jsx-1393389675 link-item"><a href="https://github.com/zhilu-tang" rel="noreferrer" target=" _blank" class="jsx-1393389675 link"><div><svg stroke="currentColor" fill="currentColor" stroke-width="0" role="img" viewBox="0 0 24 24" style="color:#fffecb;font-size:calc(0.8rem + 1vw)" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title></title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg></div></a></div><div class="jsx-1393389675 link-item"><a href="https://www.linkedin.com/in/zhilu-tang-97b1b92b/" rel="noreferrer" target="_blank" class="jsx-1393389675 link"><div><svg stroke="currentColor" fill="currentColor" stroke-width="0" role="img" viewBox="0 0 24 24" style="color:#fffecb;font-size:calc(0.8rem + 1vw)" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title></title><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"></path></svg></div></a></div></div></div><div class="jsx-1393389675 copy-right-container"><p class="jsx-1393389675 copy-right-text">Zhilu Tang © 2025</p></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"postMetadata":{"title":"Perception On Rolling Hash","description":"Key perceptions about Rolling Hash for Strings, pitfalls, and best practices","imgName":"perception-on-rolling-hash/perception-on-rolling-hash.png","date":"Jul 24, 2025","tags":["model","algorithm","simulation"],"keywords":["algorithm","perception","math"],"id":"on-rolling-hash"},"postContent":{"compiledSource":"var u=Object.defineProperty,m=Object.defineProperties;var g=Object.getOwnPropertyDescriptors;var l=Object.getOwnPropertySymbols;var s=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;var t=(e,a,i)=\u003ea in e?u(e,a,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[a]=i,n=(e,a)=\u003e{for(var i in a||(a={}))s.call(a,i)\u0026\u0026t(e,i,a[i]);if(l)for(var i of l(a))o.call(a,i)\u0026\u0026t(e,i,a[i]);return e},h=(e,a)=\u003em(e,g(a));var p=(e,a)=\u003e{var i={};for(var r in e)s.call(e,r)\u0026\u0026a.indexOf(r)\u003c0\u0026\u0026(i[r]=e[r]);if(e!=null\u0026\u0026l)for(var r of l(e))a.indexOf(r)\u003c0\u0026\u0026o.call(e,r)\u0026\u0026(i[r]=e[r]);return i};const layoutProps={},MDXLayout=\"wrapper\";function MDXContent(i){var r=i,{components:e}=r,a=p(r,[\"components\"]);return mdx(MDXLayout,h(n(n({},layoutProps),a),{components:e,mdxType:\"MDXLayout\"}),mdx(\"p\",null,mdx(\"img\",n({parentName:\"p\"},{src:\"perception-on-rolling-hash/perception-on-rolling-hash.png\",alt:\"Perception On Rolling Hash\"}))),mdx(\"h6\",null,\"Published on: \",mdx(\"strong\",{parentName:\"h6\"},\"Jul 24, 2025\")),mdx(\"h2\",null,\"\\u{1F511} Key Insights about Rolling Hash for Strings\"),mdx(\"p\",null,\"Rolling hash is a powerful technique for string processing that allows efficient computation and comparison of substring hashes. Here are the essential insights:\"),mdx(\"h3\",null,\"1. \",mdx(\"strong\",{parentName:\"h3\"},\"Core Principle\")),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"Compute hash values for substrings using polynomial hashing\"),mdx(\"li\",{parentName:\"ul\"},\"Formula: \",mdx(\"inlineCode\",{parentName:\"li\"},\"hash(s[0...n-1]) = s[0]*p^(n-1) + s[1]*p^(n-2) + ... + s[n-1]*p^0\")),mdx(\"li\",{parentName:\"ul\"},\"Enable O(1) computation of any substring hash from precomputed prefix hashes\")),mdx(\"h3\",null,\"2. \",mdx(\"strong\",{parentName:\"h3\"},\"Rolling Property\")),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"Given hash of substring \",mdx(\"inlineCode\",{parentName:\"li\"},\"s[i...j]\"),\", can compute hash of \",mdx(\"inlineCode\",{parentName:\"li\"},\"s[i+1...j+1]\"),\" in O(1)\"),mdx(\"li\",{parentName:\"ul\"},\"This property makes it ideal for sliding window algorithms\")),mdx(\"h3\",null,\"3. \",mdx(\"strong\",{parentName:\"h3\"},\"Preprocessing Advantage\")),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"Compute all prefix hashes in O(n) time\"),mdx(\"li\",{parentName:\"ul\"},\"Any substring hash can be computed in O(1) time afterward\")),mdx(\"h2\",null,\"\\u26A0\\uFE0F Key Problems and Collision Issues\"),mdx(\"h3\",null,\"1. \",mdx(\"strong\",{parentName:\"h3\"},\"Hash Collisions\")),mdx(\"pre\",null,mdx(\"code\",n({parentName:\"pre\"},{className:\"language-java\"}),`// Example of collision (simplified)\n// Two different strings might have same hash value\nString s1 = \"abc\", s2 = \"def\";\n// With certain BASE/MOD, hash(s1) might equal hash(s2)\n`)),mdx(\"h3\",null,\"2. \",mdx(\"strong\",{parentName:\"h3\"},\"Modulo Arithmetic Limitations\")),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"Using finite MOD space means collisions are inevitable\"),mdx(\"li\",{parentName:\"ul\"},\"Birthday paradox: collisions occur more frequently than expected\")),mdx(\"h3\",null,\"3. \",mdx(\"strong\",{parentName:\"h3\"},\"Poor Parameter Choices\")),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"Small BASE or MOD values increase collision probability\"),mdx(\"li\",{parentName:\"ul\"},\"Powers of 2 as BASE can lead to poor distribution\")),mdx(\"h2\",null,\"\\u{1F6E1}\\uFE0F Mitigation Strategies\"),mdx(\"h3\",null,\"1. \",mdx(\"strong\",{parentName:\"h3\"},\"Double Hashing\")),mdx(\"pre\",null,mdx(\"code\",n({parentName:\"pre\"},{className:\"language-java\"}),`class DoubleHash {\n    private static final long BASE1 = 31, BASE2 = 37;\n    private static final long MOD1 = 1000000007, MOD2 = 1000000009;\n    \n    // Use pair of hashes to reduce collision probability\n    long hash1, hash2;\n    \n    // Compare both hash values for equality\n    public boolean equals(Object other) {\n        DoubleHash o = (DoubleHash) other;\n        return hash1 == o.hash1 \u0026\u0026 hash2 == o.hash2;\n    }\n}\n`)),mdx(\"h3\",null,\"2. \",mdx(\"strong\",{parentName:\"h3\"},\"Large Prime Parameters\")),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"Use large primes for MOD (e.g., 10^9+7, 10^9+9)\"),mdx(\"li\",{parentName:\"ul\"},\"Choose BASE that's relatively prime to MOD\"),mdx(\"li\",{parentName:\"ul\"},\"Avoid powers of 2 or small primes for BASE\")),mdx(\"h3\",null,\"3. \",mdx(\"strong\",{parentName:\"h3\"},\"Verification for Critical Applications\")),mdx(\"pre\",null,mdx(\"code\",n({parentName:\"pre\"},{className:\"language-java\"}),`// When hash matches, verify actual string equality if correctness is critical\nif (hash1 == hash2) {\n    // Only do expensive string comparison when hashes match\n    if (actualStringComparison(str1, str2)) {\n        // Truly equal\n    }\n}\n`)),mdx(\"h3\",null,\"4. \",mdx(\"strong\",{parentName:\"h3\"},\"Good Parameter Selection\")),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"BASE: Use prime numbers (commonly 31, 37, 41, 43)\"),mdx(\"li\",{parentName:\"ul\"},\"MOD: Use large primes (10^9+7, 10^9+9, or even larger)\"),mdx(\"li\",{parentName:\"ul\"},\"Avoid BASE=2, 10 which have poor distribution properties\")),mdx(\"h2\",null,\"\\u{1F3AF} When to Use Rolling Hash\"),mdx(\"h3\",null,\"\\u2705 Good Use Cases:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"String matching algorithms (Rabin-Karp)\"),mdx(\"li\",{parentName:\"ul\"},\"Finding duplicate substrings\"),mdx(\"li\",{parentName:\"ul\"},\"Palindrome detection\"),mdx(\"li\",{parentName:\"ul\"},\"Counting distinct substrings\"),mdx(\"li\",{parentName:\"ul\"},\"When approximate equality is acceptable\")),mdx(\"h3\",null,\"\\u274C Avoid When:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"Cryptographic security is required\"),mdx(\"li\",{parentName:\"ul\"},\"Exact string matching is critical without verification\"),mdx(\"li\",{parentName:\"ul\"},\"Very small strings where overhead doesn't pay off\")),mdx(\"h2\",null,\"\\u{1F4A1} Best Practices\"),mdx(\"h3\",null,\"1. \",mdx(\"strong\",{parentName:\"h3\"},\"Always Consider Collision Probability\")),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"For n strings, collision probability is roughly n\\xB2/(2*MOD)\"),mdx(\"li\",{parentName:\"ul\"},\"Choose MOD appropriately for your data size\")),mdx(\"h3\",null,\"2. \",mdx(\"strong\",{parentName:\"h3\"},\"Precompute Powers\")),mdx(\"pre\",null,mdx(\"code\",n({parentName:\"pre\"},{className:\"language-java\"}),`// Precompute powers of BASE to avoid repeated calculations\nlong[] powers = new long[n];\npowers[0] = 1;\nfor (int i = 1; i \u003c n; i++) {\n    powers[i] = (powers[i-1] * BASE) % MOD;\n}\n`)),mdx(\"h3\",null,\"3. \",mdx(\"strong\",{parentName:\"h3\"},\"Handle Negative Results\")),mdx(\"pre\",null,mdx(\"code\",n({parentName:\"pre\"},{className:\"language-java\"}),`// Always ensure hash values are positive\nlong hash = (computed_hash % MOD + MOD) % MOD;\n`)),mdx(\"h3\",null,\"4. \",mdx(\"strong\",{parentName:\"h3\"},\"Memory vs Time Tradeoff\")),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"Decide whether to precompute all substring hashes or compute on demand\"),mdx(\"li\",{parentName:\"ul\"},\"Consider the specific problem constraints\")),mdx(\"p\",null,\"Rolling hash is a powerful tool when used correctly, but requires careful consideration of parameters and collision handling to ensure reliable results.\"))}MDXContent.isMDXComponent=!0;\n","scope":{}},"id":"on-rolling-hash","tags":["algorithm","thought-process","model","simulation","template"]},"__N_SSG":true},"page":"/blog/[id]","query":{"id":"on-rolling-hash"},"buildId":"S34ylEdEk2cM4iijPJteX","runtimeConfig":{},"isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>